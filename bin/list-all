#!/usr/bin/env bash
set -euo pipefail

# Check for required commands
command -v jq >/dev/null 2>&1 || { echo >&2 "jq is required but is not installed."; exit 1; }
command -v curl >/dev/null 2>&1 || { echo >&2 "curl is required but is not installed."; exit 1; }

# List all stable versions of @angular/cli available from npm
curl -s https://registry.npmjs.org/@angular/cli \
  | jq -r '.versions | keys[]' \
  | grep -E '^[0-9]+\\.[0-9]+\\.[0-9]+$' \
  | sort -Vr